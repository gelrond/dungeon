// ********************************************************************************************************************
import { MathUtils } from 'three';
// ********************************************************************************************************************
import { DungeonArea } from './dungeon-area';
// ********************************************************************************************************************
export class DungeonLayout {

    // ****************************************************************************************************************
    // areas - the areas
    // ****************************************************************************************************************
    public readonly areas: DungeonArea[] = [];

    // ****************************************************************************************************************
    // constructor
    // ****************************************************************************************************************
    constructor() { }

    // ****************************************************************************************************************
    // function:    add
    // ****************************************************************************************************************
    // parameters:  area - the area
    // ****************************************************************************************************************
    // returns:     n/a
    // ****************************************************************************************************************
    public add(area: DungeonArea): void {

        this.areas.push(area);
    }

    // ****************************************************************************************************************
    // function:    available
    // ****************************************************************************************************************
    // parameters:  area - the area
    // ****************************************************************************************************************
    // returns:     whether available
    // ****************************************************************************************************************
    public available(area: DungeonArea): boolean {

        return this.find(area) === null;
    }

    // ****************************************************************************************************************
    // function:    find
    // ****************************************************************************************************************
    // parameters:  area - the area
    // ****************************************************************************************************************
    // returns:     the area or null
    // ****************************************************************************************************************
    public find(area: DungeonArea): DungeonArea | null {

        return this.areas.find(ar => ar.contains(area)) ?? null;
    }

    // ****************************************************************************************************************
    // function:    random
    // ****************************************************************************************************************
    // parameters:  n/a
    // ****************************************************************************************************************
    // returns:     the random area
    // ****************************************************************************************************************
    public random(): DungeonArea {

        const index = MathUtils.randInt(0, this.areas.length - 1);

        return this.areas[index];
    }
}
